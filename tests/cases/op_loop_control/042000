function f(mode):
	result=''
	$print('mode',mode)
	if true:
		try:
			l1: while l1<5:
				result+='+'+$str(l1)
				if true:
					try:
						if mode==0 and l1==2:
							result+='('+$str(mode)+')'
							mode=-1000							
							restart
						elif mode==1 and l1==2: 
							result+='('+$str(mode)+')'
							continue
						elif mode==2 and l1==2: 
							result+='('+$str(mode)+')'
							break
						elif mode==3 and l1==2: 
							result+='('+$str(mode)+')'
							finally
						elif mode>=4 and l1==2:
							l2: while l2<5:
								result+='>'+$str(l2)
								if mode-5==0 and l2==2:
									result+='['+$str(mode)+']'
									mode=-1000
									restart l1
								elif mode-5==1 and l2==2: 
									result+='['+$str(mode)+']'
									continue l1
								elif mode-5==2 and l2==2: 
									result+='['+$str(mode)+']'
									break l1
								elif mode-5==3 and l2==2: 
									result+='['+$str(mode)+']'
									finally l1
								elif mode-5==4 and l2==2:
									result+='['+$str(mode)+']'
									mode=-1000
									restart l2
								elif mode-5==5 and l2==2: 
									result+='['+$str(mode)+']'
									continue l2
								elif mode-5==6 and l2==2: 
									result+='['+$str(mode)+']'
									break l2
								elif mode-5==7 and l2==2: 
									result+='['+$str(mode)+']'
									finally l2
								elif mode-5==8 and l2==2:
									result+='['+$str(mode)+']'
									mode=-1000
									restart
								elif mode-5==9 and l2==2: 
									result+='['+$str(mode)+']'
									continue
								elif mode-5==10 and l2==2: 
									result+='['+$str(mode)+']'
									break
								elif mode-5==11 and l2==2: 
									result+='['+$str(mode)+']'
									finally
								result+='<'+$str(l2)
							else:
								result+='@2e'
							finally:
								result+='@2f'
					except:
						raise
					else:
						pass
					finally:
						raise $exception()
				result+='-'+$str(l1)
			else:
				result+='@1e'
			finally:
				result+='@1e'
		except:
			raise
		else:
			result+='__e'
		finally:
			result+='__f'
	else:
		raise $exception()
	return result

function main():
	loop=0
	data=(
		'+0-0+1-1+2(0)+2-2+3-3+4-4@1e__e',
		'+0-0+1-1+2(1)+3-3+4-4@1e__e',
		'+0-0+1-1+2(2)__e',
		'+0-0+1-1+2(3)@1e__e',		
		'+0-0+1-1+2'+ '>0<0>1<1>2<2>3<3>4<4@2f' +'-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[5]' +'+2-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[6]' +'+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[7]' +'__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[8]' +'@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[9]>2<2>3<3>4<4@2f' +'-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[10]>3<3>4<4@2f' +'-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[11]' +'-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[12]@2f' +'-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[13]>2<2>3<3>4<4@2f' +'-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[14]>3<3>4<4@2f' +'-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[15]' +'-2+3-3+4-4@1e__e',
		'+0-0+1-1+2'+ '>0<0>1<1>2[16]@2f' +'-2+3-3+4-4@1e__e',
		)
	total=17
	while loop<total:
		expected=data[loop]
		value=f(loop)
		if value!=expected: 
			$print('expected',expected)
			$print('got     ',value)
			return loop
		loop+=1
	return 'ok'
+++value 'ok'
