function f(t,c=null):
	try:
		return c is null ? $int(t) : $int(t,c)
	except:
		return null
function main():
	v=(
		('0x123',0x123),('0x 123',null),('0b1101',0b1101),('0b 1101',null),('0o123',0o123),('0o 123',null),
		(' 123	',123),(' 123',123),('10',10),('123',123),('-123',-123),('- 123',null),
		('123.',null),('abc',null),('123q',null),('q123',null),('!123',null),('1 23',null),
		(' 1	',1),('+123',+123),('-00123',-123),(123.0,123),(true,1),(false,0),
		)
	c:for a,b = v:
		z=f(a)
		if z!=b:
			$print('a=',a,' b=',b,' z=',z)
			return c+1
	v=(
		('1234',16,0x1234),('1234',10,1234),('1234',8,0o1234),('1011',2,0b1011),
		('0x1234',16,0x1234),('  1234',10,1234),('0o1234',8,0o1234),('0b1011',2,0b1011),
		('-1234',16,-0x1234),('-1234',10,-1234),('-1234',8,-0o1234),('-1011',2,-0b1011),
		('-0x1234',16,-0x1234),('  -1234',10,-1234),('-0o1234',8,-0o1234),('-0b1011',2,-0b1011),
		('- 1234',16,null),('- 1234',10,null),('- 1234',8,null),('- 1011',2,null),
		('- 0x1234',16,null),('  - 1234',10,null),('- 0o1234',8,null),('- 0b1011',2,null),
		('-00123',10,-123),(10,10,10))
	c:for a,c,b = v:
		z=f(a,c)
		if z!=b:
			$print('a=',a,'c=',c,' b=',b,' z=',z)
			return c+1
	return 'ok'
+++value 'ok'
